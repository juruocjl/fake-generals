import{aO as F,aP as G,r as d,f as O,aL as U,H as r,u as l,X as y,ag as o,P as A,g as q,ae as g,M as h,aR as k,a1 as H,aw as J,G as u,I as b,aS as K,aT as Q,aU as W}from"./style.cb84edb6.js";const Z={key:0,href:"https://github.com/juruocjl/fake-generals",target:"_blank",class:"ribbons"},$=o("img",{loading:"lazy",width:"149",height:"149",src:K,class:"attachment-full size-full",alt:"Fork me on GitHub","data-recalc-dims":"1"},null,-1),j=[$],ee={key:1,class:"index"},ne={class:"contain"},ae={class:"turn"},te=J("turn "),le={id:"turn"},se={class:"rank"},oe={id:"rank"},re=o("tr",null,[o("th",null,"rank"),o("th",null,"name"),o("th",null,"army"),o("th",null,"land")],-1),ue=["innerHTML"],ce=["innerHTML"],de=["innerHTML"],ie=["onClick"],pe={__name:"Replay",setup(M){const _=F();G(_);let w=d(!1);function T(n,e){return e=parseInt(e),e<1200?'<span class="newbiw">'+n+"</span>":e<1400?'<span class="pupil">'+n+"</span>":e<1600?'<span class="specialist">'+n+"</span>":e<1900?'<span class="expert">'+n+"</span>":e<2100?'<span class="candidate-master">'+n+"</span>":e<2400?'<span class="master">'+n+"</span>":e<3e3?'<span class="grandmaster">'+n+"</span>":'<span class="legendary-grandmaster">'+n+"</span>"}const f=["red","blue","green","purple","brown","orange","pink"];let i=d([]),z=d(0),C=d(0),t=d([]),I=d("?"),p=d(30);function B(n,e){return t.value[n][e][0]==-2||t.value[n][e][0]==-3?"#565656":t.value[n][e][0]==-1||t.value[n][e][0]==5?"#b3b3b3":t.value[n][e][0]==0?t.value[n][e][1]>=0?f[t.value[n][e][1]]:"#d7d7d7":t.value[n][e][1]>=0?f[t.value[n][e][1]]:"#757575"}let m=d([]),E=O(()=>{for(var n=[],e=0;e<m.value.length;e++)i.value[e].vip==0?n[e]={name:T(i.value[e].name,i.value[e].rating),color:f[e],army:m.value[e][0],land:m.value[e][1]}:n[e]={name:T(i.value[e].name,i.value[e].rating)+'<i class="vip'+i.value[e].vip+'"></i>',color:f[e],army:m.value[e][0],land:m.value[e][1]};return n.sort((c,a)=>c.army!=a.army?a.army-c.army:c.land!=a.land?a.land-c.land:c.color<a.color?1:-1),n});document.onkeydown=function(n){var e=n||window.event||arguments.callee.caller.arguments[0];e&&e.keyCode==32&&(nowx.value=nowy.value=-1,show())};function N(n){var e=document.getElementById("map"),c=n.clientX,a=n.clientY,s=e.offsetLeft,x=e.offsetTop;window.onmousemove=function(L){var D=L.clientX,P=L.clientY,R=s+(D-c),X=x+(P-a);e.style.left=R+"px",e.style.top=X+"px"}}function S(){window.onmousemove=null}function Y(n){n.deltaY<0?p.value=Math.min(50,p.value+3):n.deltaY>0&&(p.value=Math.max(25,p.value-3))}document.body.onselectstart=document.body.oncontextmenu=function(){return!1};let v=d("");return(n,e)=>{const c=U;return u(),r(h,null,[l(w)?y("",!0):(u(),r("a",Z,j)),l(w)?y("",!0):(u(),r("div",ee,[o("div",ne,[A(c,{modelValue:l(v),"onUpdate:modelValue":e[0]||(e[0]=a=>q(v)?v.value=a:v=a),class:"w-50 m-2",placeholder:"Type something","prefix-icon":n.Search},null,8,["modelValue","prefix-icon"])])])),o("div",ae,[te,o("span",le,g(l(I)),1)]),o("div",se,[o("table",null,[o("tbody",oe,[re,(u(!0),r(h,null,k(l(E),(a,s)=>(u(),r("tr",null,[o("td",{class:b({color:"white",background:a.color,"font-weight":800})},g(s+1),3),o("td",{innerHTML:a.name},null,8,ue),o("td",{innerHTML:a.army},null,8,ce),o("td",{innerHTML:a.land},null,8,de)]))),256))])])]),l(w)?(u(),r("table",{key:2,cellspacing:"0",cellpadding:"0",border:"0",style:H({"--size":l(p)+"px","font-size":Math.min(18,Math.floor((n.now+32)/5))+"px"})},[o("tbody",{class:"map",id:"map",onMousedown:N,onMouseup:S,onMousewheel:Y},[(u(!0),r(h,null,k(l(z),a=>(u(),r("tr",null,[(u(!0),r(h,null,k(l(C),s=>(u(),r("td",{style:H({background:B(a-1,s-1)}),class:b({cell:!0,nowpos:n.nowx==a-1&&n.nowy==s-1}),onClick:x=>n.setnow(a-1,s-1)},[o("span",{class:b({num:!0,unknow:l(t)[a-1][s-1][0]==-3,visible:l(t)[a-1][s-1][0]!=-2&&l(t)[a-1][s-1][0]!=-3,mountain:l(t)[a-1][s-1][0]==-1,toxins:l(t)[a-1][s-1][0]==5,empty:l(t)[a-1][s-1][0]==0,town:l(t)[a-1][s-1][0]==1,crown:l(t)[a-1][s-1][0]==2,umbrella:l(t)[a-1][s-1][0]==3,water:l(t)[a-1][s-1][0]==4})},g(n.nowx==a-1&&n.nowy==s-1&&n.op==1?"50%":l(t)[a-1][s-1][2]?l(t)[a-1][s-1][2]:""),3)],14,ie))),256))]))),256))],32)],4)):y("",!0)],64)}}},V=Q(pe);for(const[M,_]of Object.entries(W))V.component(M,_);V.mount("#app");
