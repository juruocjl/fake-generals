import{G as Q,I as K,l as oe,f as T,Z as J,M as g,W as w,a3 as W,X as R,P as V,Q as ae,R as le,g as t,S as v,T as N,ar as F,V as re,_ as ue,a7 as we,z as I,as as _e,p as ie,bc as Ce,bd as ke,aJ as Te,b as ce,be as Ne,j as k,b3 as ee,o as xe,K as ze,$ as Se,O as D,a5 as L,aM as ne,a4 as Be,Y as P,aG as Me,U as X,b2 as Ee,aL as Le,E as $e,af as se,b4 as de,A as pe,ah as Ie,b5 as te,ac as Oe,bf as He,b6 as De,b7 as Pe,aV as Ve,b1 as Fe,h as Re,aY as q,aB as fe,b9 as Ue,ba as Ye,bb as Ae}from"./style.6a016309.js";const Ge=Q({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),qe=["textContent"],Je={name:"ElBadge"},Xe=K({...Je,props:Ge,setup(a,{expose:l}){const o=a,i=oe("badge"),r=T(()=>o.isDot?"":J(o.value)&&J(o.max)?o.max<o.value?`${o.max}+`:`${o.value}`:`${o.value}`);return l({content:r}),(p,y)=>(g(),w("div",{class:N(t(i).b())},[W(p.$slots,"default"),R(re,{name:`${t(i).namespace.value}-zoom-in-center`,persisted:""},{default:V(()=>[ae(v("sup",{class:N([t(i).e("content"),t(i).em("content",p.type),t(i).is("fixed",!!p.$slots.default),t(i).is("dot",p.isDot)]),textContent:F(t(r))},null,10,qe),[[le,!p.hidden&&(t(r)||p.isDot)]])]),_:1},8,["name"])],2))}});var Ze=ue(Xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Qe=we(Ze),Z={},Ke=Q({a11y:{type:Boolean,default:!0},locale:{type:I(Object)},size:_e,button:{type:I(Object)},experimentalFeatures:{type:I(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:I(Object)},zIndex:Number,namespace:{type:String,default:"el"}});K({name:"ElConfigProvider",props:Ke,setup(a,{slots:l}){ie(()=>a.message,i=>{Object.assign(Z,i!=null?i:{})},{immediate:!0,deep:!0});const o=Ce(a);return()=>W(l,"default",{config:o==null?void 0:o.value})}});const me=["success","info","warning","error"],b=ke({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:"",id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ce?document.body:void 0}),We=Q({customClass:{type:String,default:b.customClass},center:{type:Boolean,default:b.center},dangerouslyUseHTMLString:{type:Boolean,default:b.dangerouslyUseHTMLString},duration:{type:Number,default:b.duration},icon:{type:Te,default:b.icon},id:{type:String,default:b.id},message:{type:I([String,Object,Function]),default:b.message},onClose:{type:I(Function),required:!1},showClose:{type:Boolean,default:b.showClose},type:{type:String,values:me,default:b.type},offset:{type:Number,default:b.offset},zIndex:{type:Number,default:b.zIndex},grouping:{type:Boolean,default:b.grouping},repeatNum:{type:Number,default:b.repeatNum}}),je={destroy:()=>!0},x=Ne([]),en=a=>{const l=x.findIndex(r=>r.id===a),o=x[l];let i;return l>0&&(i=x[l-1]),{current:o,prev:i}},nn=a=>{const{prev:l}=en(a);return l?l.vm.exposeProxy.bottom:0},sn=["id"],tn=["innerHTML"],on={name:"ElMessage"},an=K({...on,props:We,emits:je,setup(a,{expose:l}){const o=a,{Close:i}=Ee,r=oe("message"),p=k(),y=k(!1),_=k(0);let h;const C=T(()=>o.type?o.type==="error"?"danger":o.type:"info"),H=T(()=>{const f=o.type;return{[r.bm("icon",f)]:f&&ee[f]}}),E=T(()=>o.icon||ee[o.type]||""),A=T(()=>nn(o.id)),S=T(()=>o.offset+A.value),U=T(()=>_.value+S.value),z=T(()=>({top:`${S.value}px`,zIndex:o.zIndex}));function u(){o.duration!==0&&({stop:h}=Le(()=>{$()},o.duration))}function B(){h==null||h()}function $(){y.value=!1}function G({code:f}){f===$e.esc&&$()}return xe(()=>{u(),y.value=!0}),ie(()=>o.repeatNum,()=>{B(),u()}),ze(document,"keydown",G),Se(p,()=>{_.value=p.value.getBoundingClientRect().height}),l({visible:y,bottom:U,close:$}),(f,Y)=>(g(),D(re,{name:t(r).b("fade"),onBeforeLeave:f.onClose,onAfterLeave:Y[0]||(Y[0]=j=>f.$emit("destroy")),persisted:""},{default:V(()=>[ae(v("div",{id:f.id,ref_key:"messageRef",ref:p,class:N([t(r).b(),{[t(r).m(f.type)]:f.type&&!f.icon},t(r).is("center",f.center),t(r).is("closable",f.showClose),f.customClass]),style:X(t(z)),role:"alert",onMouseenter:B,onMouseleave:u},[f.repeatNum>1?(g(),D(t(Qe),{key:0,value:f.repeatNum,type:t(C),class:N(t(r).e("badge"))},null,8,["value","type","class"])):L("v-if",!0),t(E)?(g(),D(t(ne),{key:1,class:N([t(r).e("icon"),t(H)])},{default:V(()=>[(g(),D(Be(t(E))))]),_:1},8,["class"])):L("v-if",!0),W(f.$slots,"default",{},()=>[f.dangerouslyUseHTMLString?(g(),w(P,{key:1},[L(" Caution here, message could've been compromised, never use user's input as message "),v("p",{class:N(t(r).e("content")),innerHTML:f.message},null,10,tn)],2112)):(g(),w("p",{key:0,class:N(t(r).e("content"))},F(f.message),3))]),f.showClose?(g(),D(t(ne),{key:2,class:N(t(r).e("closeBtn")),onClick:Me($,["stop"])},{default:V(()=>[R(t(i))]),_:1},8,["class","onClick"])):L("v-if",!0)],46,sn),[[le,y.value]])]),_:3},8,["name","onBeforeLeave"]))}});var ln=ue(an,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let rn=1;const ve=a=>{const l=!a||se(a)||de(a)||pe(a)?{message:a}:a,o={...b,...l};if(!o.appendTo)o.appendTo=document.body;else if(se(o.appendTo)){let i=document.querySelector(o.appendTo);Oe(i)||(i=document.body),o.appendTo=i}return o},un=a=>{const l=x.indexOf(a);if(l===-1)return;x.splice(l,1);const{handler:o}=a;o.close()},cn=({appendTo:a,...l},o)=>{const{nextZIndex:i}=Ie(),r=`message_${rn++}`,p=l.onClose,y=document.createElement("div"),_={...l,zIndex:i()+l.zIndex,id:r,onClose:()=>{p==null||p(),un(E)},onDestroy:()=>{te(null,y)}},h=R(ln,_,pe(_.message)||de(_.message)?{default:_.message}:null);h.appContext=o||O._context,te(h,y),a.appendChild(y.firstElementChild);const C=h.component,E={id:r,vnode:h,vm:C,handler:{close:()=>{C.exposeProxy.visible=!1}},props:h.component.props};return E},O=(a={},l)=>{if(!ce)return{close:()=>{}};if(J(Z.max)&&x.length>=Z.max)return{close:()=>{}};const o=ve(a);if(o.grouping&&x.length){const r=x.find(({vnode:p})=>{var y;return((y=p.props)==null?void 0:y.message)===o.message});if(r)return r.props.repeatNum+=1,r.props.type=o.type,r.handler}const i=cn(o,l);return x.push(i),i.handler};me.forEach(a=>{O[a]=(l={},o)=>{const i=ve(l);return O({...i,type:a},o)}});function dn(a){for(const l of x)(!a||a===l.props.type)&&l.handler.close()}O.closeAll=dn;O._context=null;const pn=He(O,"$message");const fn={key:0,href:"https://github.com/juruocjl/fake-generals",target:"_blank",class:"ribbons"},mn=v("img",{loading:"lazy",width:"149",height:"149",src:Ye,class:"attachment-full size-full",alt:"Fork me on GitHub","data-recalc-dims":"1"},null,-1),vn=[mn],gn={key:1,class:"index"},yn={class:"contain"},hn=fe("Start!"),bn={class:"turn"},wn=fe("turn "),_n={id:"turn"},Cn={class:"rank"},kn={id:"rank"},Tn=v("tr",null,[v("th",null,"rank"),v("th",null,"name"),v("th",null,"army"),v("th",null,"land")],-1),Nn=["innerHTML"],xn=["innerHTML"],zn=["innerHTML"],Sn=["onClick"],Bn={__name:"Replay",setup(a){const l=De();Pe(l);let o=k(!1);function i(n,e){return e=parseInt(e),e<1200?'<span class="newbiw">'+n+"</span>":e<1400?'<span class="pupil">'+n+"</span>":e<1600?'<span class="specialist">'+n+"</span>":e<1900?'<span class="expert">'+n+"</span>":e<2100?'<span class="candidate-master">'+n+"</span>":e<2400?'<span class="master">'+n+"</span>":e<3e3?'<span class="grandmaster">'+n+"</span>":'<span class="legendary-grandmaster">'+n+"</span>"}const r=["red","blue","green","purple","brown","orange","pink"];let p=k([]),y=k(0),_=k(0),h=k(30),C=k("");function H(n){for(var e=window.location.search.substring(1),m=e.split("&"),c=0;c<m.length;c++){var s=m[c].split("=");if(s[0]==n)return s[1]}return!1}H("name")&&(C.value=H("name"));function E(n,e,m){if(n=JSON.parse(JSON.stringify(n)),!m)return n;for(var c=0;c<y.value;c++)for(var s=0;s<_.value;s++)n[c][s][0]>=0&&n[c][s][1]>=0&&(n[c][s][0]==0?n[c][s][2]+=e:n[c][s][0]!=4?n[c][s][2]++:(n[c][s][2]--,n[c][s][2]==0&&(n[c][s][1]=-1)));return n}function A(n,e){return u.value[n][e][0]==-2||u.value[n][e][0]==-3?"#565656":u.value[n][e][0]==-1||u.value[n][e][0]==5?"#b3b3b3":u.value[n][e][0]==0?u.value[n][e][1]>=0?r[u.value[n][e][1]]:"#d7d7d7":u.value[n][e][1]>=0?r[u.value[n][e][1]]:"#757575"}var S=[];let U=k(0),z=k(0),u=T(()=>S[z.value]),B=T(()=>{for(var n=[],e=0;e<p.value.length;e++)n[e]=[0,0];for(var e=0;e<y.value;e++)for(var m=0;m<_.value;m++)u.value[e][m][0]>=0&&u.value[e][m][1]>=0&&(n[u.value[e][m][1]][1]++,n[u.value[e][m][1]][0]+=u.value[e][m][2]);return n}),$=T(()=>{for(var n=[],e=0;e<B.value.length;e++)p.value[e].vip==0?n[e]={name:i(p.value[e].name,p.value[e].rating),color:r[e],army:B.value[e][0],land:B.value[e][1]}:n[e]={name:i(p.value[e].name,p.value[e].rating)+'<i class="vip'+p.value[e].vip+'"></i>',color:r[e],army:B.value[e][0],land:B.value[e][1]};return n.sort((m,c)=>m.army!=c.army?c.army-m.army:m.land!=c.land?c.land-m.land:m.color<c.color?1:-1),n});document.onkeydown=function(n){var e=n||window.event||arguments.callee.caller.arguments[0];e&&e.keyCode==32&&(nowx.value=nowy.value=-1,show())};function G(n){var e=document.getElementById("map"),m=n.clientX,c=n.clientY,s=e.offsetLeft,d=e.offsetTop;window.onmousemove=function(M){var ge=M.clientX,ye=M.clientY,he=s+(ge-m),be=d+(ye-c);e.style.left=he+"px",e.style.top=be+"px"}}function f(){window.onmousemove=null}function Y(n){n.deltaY<0?h.value=Math.min(50,h.value+3):n.deltaY>0&&(h.value=Math.max(25,h.value-3))}document.body.onselectstart=document.body.oncontextmenu=function(){return!1};function j(){Ue.get("getfile?name="+C.value).then(n=>{if(n.data=="Not Found")pn.error("Not Found.");else{o.value=!0;var e=n.data;y.value=e.his[0].length,_.value=e.his[0][0].length,p.value=e.users;var m=e.his.length;S[0]=e.his[0];for(var c=e.everyadd,s=1;s<e.his.length;s++)S[s]=E(S[s-1],(s+1)%c==0,e.ver>=2?s%2==1:!0),e.his[s].forEach(d=>{S[s][d[0]][d[1]]=d[2]});U.value=e.ver,document.onkeydown=function(d){var M=d||window.event||arguments.callee.caller.arguments[0];M&&M.keyCode==65&&(z.value=Math.max(0,z.value-1)),M&&M.keyCode==68&&(z.value=Math.min(m-1,z.value+1))}}}).catch(n=>{console.log(n)})}return(n,e)=>{const m=Ve,c=Fe;return g(),w(P,null,[t(o)?L("",!0):(g(),w("a",fn,vn)),t(o)?L("",!0):(g(),w("div",gn,[v("div",yn,[R(m,{modelValue:t(C),"onUpdate:modelValue":e[0]||(e[0]=s=>Re(C)?C.value=s:C=s),class:"w-50 m-2",placeholder:"\u56DE\u653Eid"},null,8,["modelValue"]),R(c,{style:{margin:"10px"},type:"success",plain:"",onClick:e[1]||(e[1]=s=>{j()})},{default:V(()=>[hn]),_:1})])])),v("div",bn,[wn,v("span",_n,F(t(U)>=2?Math.ceil(t(z)/2):t(z)),1)]),v("div",Cn,[v("table",null,[v("tbody",kn,[Tn,(g(!0),w(P,null,q(t($),(s,d)=>(g(),w("tr",null,[v("td",{class:N({color:"white",background:s.color,"font-weight":800})},F(d+1),3),v("td",{innerHTML:s.name},null,8,Nn),v("td",{innerHTML:s.army},null,8,xn),v("td",{innerHTML:s.land},null,8,zn)]))),256))])])]),t(o)?(g(),w("table",{key:2,cellspacing:"0",cellpadding:"0",border:"0",style:X({"--size":t(h)+"px","font-size":Math.min(18,Math.floor((n.now+32)/5))+"px"})},[v("tbody",{class:"map",id:"map",onMousedown:G,onMouseup:f,onMousewheel:Y},[(g(!0),w(P,null,q(t(y),s=>(g(),w("tr",null,[(g(!0),w(P,null,q(t(_),d=>(g(),w("td",{style:X({background:A(s-1,d-1)}),class:N({cell:!0,nowpos:n.nowx==s-1&&n.nowy==d-1}),onClick:M=>n.setnow(s-1,d-1)},[v("span",{class:N({num:!0,unknow:t(u)[s-1][d-1][0]==-3,visible:t(u)[s-1][d-1][0]!=-2&&t(u)[s-1][d-1][0]!=-3,mountain:t(u)[s-1][d-1][0]==-1,toxins:t(u)[s-1][d-1][0]==5,empty:t(u)[s-1][d-1][0]==0,town:t(u)[s-1][d-1][0]==1,crown:t(u)[s-1][d-1][0]==2,umbrella:t(u)[s-1][d-1][0]==3,water:t(u)[s-1][d-1][0]==4})},F(n.nowx==s-1&&n.nowy==d-1&&n.op==1?"50%":t(u)[s-1][d-1][2]?t(u)[s-1][d-1][2]:""),3)],14,Sn))),256))]))),256))],32)],4)):L("",!0)],64)}}},Mn=Ae(Bn);Mn.mount("#app");
