import{S as Ye,aP as Al,X as sl,ab as je,K as se,j as X,ad as oe,Y as Hl,$ as Re,aC as ul,aF as We,aq as qe,aa as el,U as ll,b0 as Ul,r as h,a2 as Pl,C as O,aG as rl,b3 as Dl,a1 as ze,H as Fe,p as _,e as z,l as d,a5 as Be,be as il,i as n,n as B,ag as Ae,a$ as me,a9 as He,m as M,t as L,a7 as pe,az as Ke,b2 as Gl,aE as Nl,a0 as Ol,ae as dl,at as cl,aI as ql,ai as Kl,aL as fl,b as vl,E as ml,aR as Xl,bf as Yl,as as Wl,bg as nl,av as ve,f as q,w as r,a6 as Ne,h as i,g as Ve,k as P,aV as Le,a8 as Jl,z as Ql,bh as $e,ah as Zl,ay as xl,bi as pl,aO as tl,aW as jl,c as en,u as ln,a as nn,d as tn,F as Se,aQ as Oe,o as on,q as Ie,_ as an,s as sn}from"./style.c8d9b279.js";import{o as ol,k as un,l as rn,m as dn,u as cn,n as fn,p as vn,q as mn,E as pn,a as gn,b as bn,c as hn,d as yn,e as kn,f as Cn,g as _n,r as wn,s as En,M as Vn,S as Bn,h as Mn,I as Tn,i as Ln,R as Sn,j as In}from"./index.b4fdac7a.js";const gl=Symbol("radioGroupKey"),$n=(e,s,a)=>{let f={offsetX:0,offsetY:0};const p=V=>{const T=V.clientX,R=V.clientY,{offsetX:I,offsetY:y}=f,g=e.value.getBoundingClientRect(),C=g.left,K=g.top,Z=g.width,A=g.height,ue=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,W=-C+I,H=-K+y,D=ue-C-Z+I,E=Y-K-A+y,w=b=>{const ne=Math.min(Math.max(I+b.clientX-T,W),D),G=Math.min(Math.max(y+b.clientY-R,H),E);f={offsetX:ne,offsetY:G},e.value.style.transform=`translate(${je(ne)}, ${je(G)})`},F=()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",F)};document.addEventListener("mousemove",w),document.addEventListener("mouseup",F)},v=()=>{s.value&&e.value&&s.value.addEventListener("mousedown",p)},u=()=>{s.value&&e.value&&s.value.removeEventListener("mousedown",p)};Ye(()=>{Al(()=>{a.value?v():u()})}),sl(()=>{u()})},Rn=(e,s)=>{let a;se(()=>e.value,f=>{var p,v;f?(a=document.activeElement,X(s)&&((v=(p=s.value).focus)==null||v.call(p))):a.focus()})},Xe="_trap-focus-children",ae=[],al=e=>{if(ae.length===0)return;const s=ae[ae.length-1][Xe];if(s.length>0&&e.code===Hl.tab){if(s.length===1){e.preventDefault(),document.activeElement!==s[0]&&s[0].focus();return}const a=e.shiftKey,f=e.target===s[0],p=e.target===s[s.length-1];f&&a&&(e.preventDefault(),s[s.length-1].focus()),p&&!a&&(e.preventDefault(),s[0].focus())}},zn={beforeMount(e){e[Xe]=ol(e),ae.push(e),ae.length<=1&&document.addEventListener("keydown",al)},updated(e){oe(()=>{e[Xe]=ol(e)})},unmounted(){ae.shift(),ae.length===0&&document.removeEventListener("keydown",al)}},bl=Re({size:ul,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Fn=Re({...bl,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),hl={[We]:e=>qe(e)||el(e)||ll(e),[Ul]:e=>qe(e)||el(e)||ll(e)},yl=(e,s)=>{const a=h(),f=Pl(gl,void 0),p=O(()=>!!f),v=O({get(){return p.value?f.modelValue:e.modelValue},set(I){p.value?f.changeEvent(I):s&&s(We,I),a.value.checked=e.modelValue===e.label}}),u=rl(O(()=>f==null?void 0:f.size)),V=Dl(O(()=>f==null?void 0:f.disabled)),T=h(!1),R=O(()=>V.value||p.value&&v.value!==e.label?-1:0);return{radioRef:a,isGroup:p,radioGroup:f,focus:T,size:u,disabled:V,tabIndex:R,modelValue:v}},An=["value","name","disabled"],Hn={name:"ElRadio"},Un=ze({...Hn,props:Fn,emits:hl,setup(e,{emit:s}){const a=e,f=Fe("radio"),{radioRef:p,radioGroup:v,focus:u,size:V,disabled:T,modelValue:R}=yl(a,s);function I(){oe(()=>s("change",R.value))}return(y,g)=>{var C;return _(),z("label",{class:B([n(f).b(),n(f).is("disabled",n(T)),n(f).is("focus",n(u)),n(f).is("bordered",y.border),n(f).is("checked",n(R)===y.label),n(f).m(n(V))])},[d("span",{class:B([n(f).e("input"),n(f).is("disabled",n(T)),n(f).is("checked",n(R)===y.label)])},[Be(d("input",{ref_key:"radioRef",ref:p,"onUpdate:modelValue":g[0]||(g[0]=K=>X(R)?R.value=K:null),class:B(n(f).e("original")),value:y.label,name:y.name||((C=n(v))==null?void 0:C.name),disabled:n(T),type:"radio",onFocus:g[1]||(g[1]=K=>u.value=!0),onBlur:g[2]||(g[2]=K=>u.value=!1),onChange:I},null,42,An),[[il,n(R)]]),d("span",{class:B(n(f).e("inner"))},null,2)],2),d("span",{class:B(n(f).e("label")),onKeydown:g[3]||(g[3]=me(()=>{},["stop"]))},[Ae(y.$slots,"default",{},()=>[M(L(y.label),1)])],34)],2)}}});var Pn=He(Un,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Dn=Re({...bl,name:{type:String,default:""}}),Gn=["value","name","disabled"],Nn={name:"ElRadioButton"},On=ze({...Nn,props:Dn,setup(e){const s=e,a=Fe("radio"),{radioRef:f,focus:p,size:v,disabled:u,modelValue:V,radioGroup:T}=yl(s),R=O(()=>({backgroundColor:(T==null?void 0:T.fill)||"",borderColor:(T==null?void 0:T.fill)||"",boxShadow:T!=null&&T.fill?`-1px 0 0 0 ${T.fill}`:"",color:(T==null?void 0:T.textColor)||""}));return(I,y)=>{var g;return _(),z("label",{class:B([n(a).b("button"),n(a).is("active",n(V)===I.label),n(a).is("disabled",n(u)),n(a).is("focus",n(p)),n(a).bm("button",n(v))])},[Be(d("input",{ref_key:"radioRef",ref:f,"onUpdate:modelValue":y[0]||(y[0]=C=>X(V)?V.value=C:null),class:B(n(a).be("button","original-radio")),value:I.label,type:"radio",name:I.name||((g=n(T))==null?void 0:g.name),disabled:n(u),onFocus:y[1]||(y[1]=C=>p.value=!0),onBlur:y[2]||(y[2]=C=>p.value=!1)},null,42,Gn),[[il,n(V)]]),d("span",{class:B(n(a).be("button","inner")),style:pe(n(V)===I.label?n(R):{}),onKeydown:y[3]||(y[3]=me(()=>{},["stop"]))},[Ae(I.$slots,"default",{},()=>[M(L(I.label),1)])],38)],2)}}});var kl=He(On,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const qn=Re({id:{type:String,default:void 0},size:ul,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Kn=hl,Xn=["id","aria-label","aria-labelledby"],Yn={name:"ElRadioGroup"},Wn=ze({...Yn,props:qn,emits:Kn,setup(e,{emit:s}){const a=e,f=Fe("radio"),p=Ke(),v=h(),{formItem:u}=Gl(),{inputId:V,isLabeledByFormItem:T}=Nl(a,{formItemContext:u}),R=y=>{s(We,y),oe(()=>s("change",y))};Ye(()=>{const y=v.value.querySelectorAll("[type=radio]"),g=y[0];!Array.from(y).some(C=>C.checked)&&g&&(g.tabIndex=0)});const I=O(()=>a.name||p.value);return Ol(gl,dl({...cl(a),changeEvent:R,name:I})),se(()=>a.modelValue,()=>{a.validateEvent&&(u==null||u.validate("change").catch(y=>ql()))}),(y,g)=>(_(),z("div",{id:n(V),ref_key:"radioGroupRef",ref:v,class:B(n(f).b("group")),role:"radiogroup","aria-label":n(T)?void 0:y.label||"radio-group","aria-labelledby":n(T)?n(u).labelId:void 0},[Ae(y.$slots,"default")],10,Xn))}});var Cl=He(Wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);Kl(Pn,{RadioButton:kl,RadioGroup:Cl});const Jn=fl(Cl),Qn=fl(kl),Zn=ze({name:"ElMessageBox",directives:{TrapFocus:zn},components:{ElButton:vl,ElFocusTrap:un,ElInput:ml,ElOverlay:rn,ElIcon:Xl,...Yl},inheritAttrs:!1,props:{buttonSize:{type:String,validator:dn},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:s}){const{t:a}=cn(),f=Fe("message-box"),p=h(!1),{nextZIndex:v}=Wl(),u=dl({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:v()}),V=O(()=>{const S=u.type;return{[f.bm("icon",S)]:S&&nl[S]}}),T=Ke(),R=Ke(),I=rl(O(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),y=O(()=>u.icon||nl[u.type]||""),g=O(()=>!!u.message),C=h(),K=h(),Z=h(),A=h(),ue=h(),Y=O(()=>u.confirmButtonClass);se(()=>u.inputValue,async S=>{await oe(),e.boxType==="prompt"&&S!==null&&b()},{immediate:!0}),se(()=>p.value,S=>{var U,Q;S&&(e.boxType!=="prompt"&&(u.autofocus?Z.value=(Q=(U=ue.value)==null?void 0:U.$el)!=null?Q:C.value:Z.value=C.value),u.zIndex=v()),e.boxType==="prompt"&&(S?oe().then(()=>{var j;A.value&&A.value.$el&&(u.autofocus?Z.value=(j=ne())!=null?j:C.value:Z.value=C.value)}):(u.editorErrorMessage="",u.validateError=!1))});const W=O(()=>e.draggable);$n(C,K,W),Ye(async()=>{await oe(),e.closeOnHashChange&&window.addEventListener("hashchange",H)}),sl(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",H)});function H(){!p.value||(p.value=!1,oe(()=>{u.action&&s("action",u.action)}))}const D=()=>{e.closeOnClickModal&&F(u.distinguishCancelAndClose?"close":"cancel")},E=vn(D),w=S=>{if(u.inputType!=="textarea")return S.preventDefault(),F("confirm")},F=S=>{var U;e.boxType==="prompt"&&S==="confirm"&&!b()||(u.action=S,u.beforeClose?(U=u.beforeClose)==null||U.call(u,S,u,H):H())},b=()=>{if(e.boxType==="prompt"){const S=u.inputPattern;if(S&&!S.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;const U=u.inputValidator;if(typeof U=="function"){const Q=U(u.inputValue);if(Q===!1)return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;if(typeof Q=="string")return u.editorErrorMessage=Q,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},ne=()=>{const S=A.value.$refs;return S.input||S.textarea},G=()=>{F("close")},J=()=>{e.closeOnPressEscape&&G()};return e.lockScroll&&fn(p),Rn(p),{...cl(u),ns:f,overlayEvent:E,visible:p,hasMessage:g,typeClass:V,contentId:T,inputId:R,btnSize:I,iconComponent:y,confirmButtonClasses:Y,rootRef:C,focusStartRef:Z,headerRef:K,inputRef:A,confirmRef:ue,doClose:H,handleClose:G,onCloseRequested:J,handleWrapperClick:D,handleInputEnter:w,handleAction:F,t:a}}}),xn=["aria-label","aria-describedby"],jn=["aria-label"],et=["id"];function lt(e,s,a,f,p,v){const u=ve("el-icon"),V=ve("close"),T=ve("el-input"),R=ve("el-button"),I=ve("el-focus-trap"),y=ve("el-overlay");return _(),q(Jl,{name:"fade-in-linear",onAfterLeave:s[11]||(s[11]=g=>e.$emit("vanish")),persisted:""},{default:r(()=>[Be(i(y,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:r(()=>[d("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:B(`${e.ns.namespace.value}-overlay-message-box`),onClick:s[8]||(s[8]=(...g)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...g)),onMousedown:s[9]||(s[9]=(...g)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...g)),onMouseup:s[10]||(s[10]=(...g)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...g))},[i(I,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:r(()=>[d("div",{ref:"rootRef",class:B([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:pe(e.customStyle),tabindex:"-1",onClick:s[7]||(s[7]=me(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(_(),z("div",{key:0,ref:"headerRef",class:B(e.ns.e("header"))},[d("div",{class:B(e.ns.e("title"))},[e.iconComponent&&e.center?(_(),q(u,{key:0,class:B([e.ns.e("status"),e.typeClass])},{default:r(()=>[(_(),q(Ve(e.iconComponent)))]),_:1},8,["class"])):P("v-if",!0),d("span",null,L(e.title),1)],2),e.showClose?(_(),z("button",{key:0,type:"button",class:B(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:s[0]||(s[0]=g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:s[1]||(s[1]=Le(me(g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[i(u,{class:B(e.ns.e("close"))},{default:r(()=>[i(V)]),_:1},8,["class"])],42,jn)):P("v-if",!0)],2)):P("v-if",!0),d("div",{id:e.contentId,class:B(e.ns.e("content"))},[d("div",{class:B(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(_(),q(u,{key:0,class:B([e.ns.e("status"),e.typeClass])},{default:r(()=>[(_(),q(Ve(e.iconComponent)))]),_:1},8,["class"])):P("v-if",!0),e.hasMessage?(_(),z("div",{key:1,class:B(e.ns.e("message"))},[Ae(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(_(),q(Ve(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(_(),q(Ve(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:r(()=>[M(L(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):P("v-if",!0)],2),Be(d("div",{class:B(e.ns.e("input"))},[i(T,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":s[2]||(s[2]=g=>e.inputValue=g),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:B({invalid:e.validateError}),onKeydown:Le(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),d("div",{class:B(e.ns.e("errormsg")),style:pe({visibility:e.editorErrorMessage?"visible":"hidden"})},L(e.editorErrorMessage),7)],2),[[Ne,e.showInput]])],10,et),d("div",{class:B(e.ns.e("btns"))},[e.showCancelButton?(_(),q(R,{key:0,loading:e.cancelButtonLoading,class:B([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:s[3]||(s[3]=g=>e.handleAction("cancel")),onKeydown:s[4]||(s[4]=Le(me(g=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:r(()=>[M(L(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):P("v-if",!0),Be(i(R,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:B([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:s[5]||(s[5]=g=>e.handleAction("confirm")),onKeydown:s[6]||(s[6]=Le(me(g=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:r(()=>[M(L(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Ne,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,xn)]),_:3},8,["z-index","overlay-class","mask"]),[[Ne,e.visible]])]),_:3})}var nt=He(Zn,[["render",lt],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const Me=new Map,tt=(e,s,a=null)=>{const f=jl(nt,e);return f.appContext=a,pl(f,s),document.body.appendChild(s.firstElementChild),f.component},ot=()=>document.createElement("div"),at=(e,s)=>{const a=ot();e.onVanish=()=>{pl(null,a),Me.delete(p)},e.onAction=v=>{const u=Me.get(p);let V;e.showInput?V={value:p.inputValue,action:v}:V=v,e.callback?e.callback(V,f.proxy):v==="cancel"||v==="close"?e.distinguishCancelAndClose&&v!=="cancel"?u.reject("close"):u.reject("cancel"):u.resolve(V)};const f=tt(e,a,s),p=f.proxy;for(const v in e)tl(e,v)&&!tl(p.$props,v)&&(p[v]=e[v]);return se(()=>p.message,(v,u)=>{$e(v)?f.slots.default=()=>[v]:$e(u)&&!$e(v)&&delete f.slots.default},{immediate:!0}),p.visible=!0,p};function ge(e,s=null){if(!Ql)return Promise.reject();let a;return qe(e)||$e(e)?e={message:e}:a=e.callback,new Promise((f,p)=>{const v=at(e,s!=null?s:ge._context);Me.set(v,{options:e,callback:a,resolve:f,reject:p})})}const st=["alert","confirm","prompt"],ut={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};st.forEach(e=>{ge[e]=rt(e)});function rt(e){return(s,a,f,p)=>{let v;return Zl(a)?(f=a,v=""):xl(a)?v="":v=a,ge(Object.assign({title:v,message:s,type:"",...ut[e]},f,{boxType:e}),p)}}ge.close=()=>{Me.forEach((e,s)=>{s.doClose()}),Me.clear()};ge._context=null;const le=ge;le.install=e=>{le._context=e._context,e.config.globalProperties.$msgbox=le,e.config.globalProperties.$messageBox=le,e.config.globalProperties.$alert=le.alert,e.config.globalProperties.$confirm=le.confirm,e.config.globalProperties.$prompt=le.prompt};const it=le;const dt=d("h1",null,"rating\u699C",-1),ct=["innerHTML"],ft=["innerHTML"],vt=d("h1",null,"donation\u699C",-1),mt=["innerHTML"],pt=d("h1",null,"\u8BF4\u660E",-1),gt=["innerHTML"],bt=d("h1",null,"rating\u53D8\u5316\u67E5\u8BE2",-1),ht=M("\u56DE\u653E"),yt=d("br",null,null,-1),kt=d("br",null,null,-1),Ct=["innerHTML"],_t=["innerHTML"],wt=["innerHTML"],Et={key:2},Vt=d("h1",null,"\u8BBE\u7F6E",-1),Bt=d("h2",null,"\u80CC\u666F\u56FE\u7247",-1),Mt=d("h2",null,"\u914D\u8272\u65B9\u6848",-1),Tt=d("br",null,null,-1),Lt=M(" \u6062\u590D\u5230\u9ED8\u8BA4 "),St=d("h2",null,"\u9ED1\u6697\u6A21\u5F0F",-1),It=M("Rating\u67E5\u8BE2"),$t=M("\u8BF4\u660E"),Rt=M("donation\u699C"),zt=M("Rating\u699C"),Ft=M("\u8BBE\u7F6E"),At={key:1,href:"https://github.com/juruocjl/fake-generals",target:"_blank",class:"ribbons"},Ht=d("img",{loading:"lazy",width:"149",height:"149",src:an,class:"attachment-full size-full",alt:"Fork me on GitHub","data-recalc-dims":"1"},null,-1),Ut=[Ht],Pt={key:2,class:"index"},Dt={class:"contain"},Gt={class:"name"},Nt=["innerHTML"],Ot=M("\u5F53\u524Drating\u4E3A"),qt=["innerHTML"],Kt=M("Start!"),Xt=d("br",null,null,-1),Yt=d("br",null,null,-1),Wt=M("cancel"),Jt=d("br",null,null,-1),Qt={class:"turn"},Zt=M("turn "),xt={id:"turn"},jt={class:"rank"},eo={id:"rank"},lo=d("tr",null,[d("th",null,"rank"),d("th",null,"name"),d("th",null,"army"),d("th",null,"land")],-1),no=["innerHTML"],to=["innerHTML"],oo=["innerHTML"],ao=["onClick"],so={key:0,class:"up"},uo={key:1,class:"down"},ro={key:2,class:"left"},io={key:3,class:"right"},co={key:4,class:"lightning"},fo={__name:"room",setup(e){const a=en(()=>on("fg-user-config",{bgimg:"",color:["#FF0000","#0000FF","#008000","#800080","#A52A2A","#FFA500","#FFC0CB","#FFFF00"]}))(),f=ln(),p=nn(f);let v=h(!1);h("none");function u(t,l){return l=parseInt(l),l<1200?'<span class="newbiw">'+t+"</span>":l<1400?'<span class="pupil">'+t+"</span>":l<1600?'<span class="specialist">'+t+"</span>":l<1900?'<span class="expert">'+t+"</span>":l<2100?'<span class="candidate-master">'+t+"</span>":l<2400?'<span class="master">'+t+"</span>":l<3e3?'<span class="grandmaster">'+t+"</span>":'<span class="legendary-grandmaster">'+t+"</span>"}function V(t){for(var l=t+"=",c=document.cookie.split(";"),m=0;m<c.length;m++){var k=c[m].trim();if(k.indexOf(l)==0)return k.substring(l.length,k.length)}return""}var T=V("userid"),R=decodeURIComponent(V("username")),I=V("pswd"),y=V("vip"),g=V("rating"),C=mn("http://"+location.hostname+":3000/room"+window.location.pathname.split("/").pop(),{auth:{userid:T,username:R,pswd:I,rating:g,vip:y}});const K="`~!@#$%^&*()_+qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM[];',./{}|:<>?";for(var Z=[],A=0;A<K.length;A++)Z[K[A]]=A;class ue{constructor(){this.items=[],this.count=0,this.lowestCount=0}addBack(l){this.items[this.count]=l,this.count++}popFront(){return this.items[this.lowestCount++]}popBack(){return this.items[--this.count]}size(){return this.count-this.lowestCount}clear(){this.count=this.lowestCount=0}to_string(){for(var l="",c=this.lowestCount;c<this.count;c++){l+=this.items[c].length;for(var m=0;m<this.items[c].length;m++)l+=K[this.items[c][m]]}return l}from_string(l){for(this.clear(),A=0;A<l.length;){var c=parseInt(l[A]),m=[];A++;for(var k=0;k<c;A++,k++)m[k]=Z[l[A]];this.addBack(m)}}to_array(){for(var l=[],c=this.lowestCount;c<this.count;c++)l[c-this.lowestCount]=this.items[c];return l}}let Y=h(new ue),W=h([]),H=h(0),D=h(0),E=h(-1),w=h(-1),F=h(0),b=h([]),ne=h("?"),G=h(""),J=h([]),S=h(0),U=h([0,0,0,0,0,0]),Q=h([0,0,0]),j=h(30),be=h(!1),Je=h({}),Ue=h(-1),Pe=h(-1);se(G,t=>{C.emit("type change",{type:t,weather:J.value})}),se(J,t=>{C.emit("weather change",{type:t})});function _l(){be.value=!0,Ie.get("/ratingrk").then(t=>{t.data.status=="success"&&(Je.value=t.data.data)})}let he=h(!1),Qe=h({});function wl(){he.value=!0,Ie.get("/donationrk").then(t=>{t.data.status=="success"&&(Qe.value=t.data.data)})}let ye=h(!1),Ze=h({});function El(){ye.value=!0,Ie.get("/infos").then(t=>{Ze.value=t.data.data})}let re=h(!1),ke=h({status:"err",data:"?"});function Vl(){re.value=!0}let Ce=h(!1);function Bl(){Ce.value=!0}let ie=h(0);function xe(t){Ie.get("/qry?name="+t).then(l=>{ke.value=l.data})}let Te=O(()=>{for(var t=[],l=0;l<H.value;l++){t[l]=[];for(var c=0;c<D.value;c++)t[l][c]=[0,0,0,0]}return Y.value.to_array().forEach(m=>{m.length==3&&(t[m[0]][m[1]][m[2]]=!0)}),t});var De=!0;function Ml(t,l,c){if(t=JSON.parse(JSON.stringify(t)),!c)return t;for(var m=0;m<H.value;m++)for(var k=0;k<D.value;k++)t[m][k][0]>=0&&t[m][k][1]>=0&&(t[m][k][0]==0?t[m][k][2]+=l:t[m][k][0]!=4?t[m][k][2]++:(t[m][k][2]--,t[m][k][2]==0&&(t[m][k][1]=-1)));return t}function Tl(t,l){return b.value[t][l][0]==-2||b.value[t][l][0]==-3?"#565656":b.value[t][l][0]==-1||b.value[t][l][0]==5?"#b3b3b3":b.value[t][l][0]==0?b.value[t][l][1]>=0?a.value.color[b.value[t][l][1]]:"#d7d7d7":b.value[t][l][1]>=0?a.value.color[b.value[t][l][1]]:"#757575"}let te=h([]),Ll=O(()=>{for(var t=[],l=0;l<te.value.length;l++)W.value[l].vip==0?t[l]={name:u(W.value[l].name,W.value[l].rating),color:a.value.color[l],army:te.value[l][0],land:te.value[l][1]}:t[l]={name:u(W.value[l].name,W.value[l].rating)+'<i class="vip'+W.value[l].vip+'"></i>',color:a.value.color[l],army:te.value[l][0],land:te.value[l][1]};return t.sort((c,m)=>c.army!=m.army?m.army-c.army:c.land!=m.land?m.land-c.land:c.color<m.color?1:-1),t});function de(t,l){if(E.value!=-1&&w.value!=-1&&Math.abs(E.value-t)+Math.abs(w.value-l)==1){var c;t==E.value-1&&(c=0),t==E.value+1&&(c=1),l==w.value-1&&(c=2),l==w.value+1&&(c=3),Y.value.addBack([E.value,w.value,c]),C.emit("add queue",{data:[E.value,w.value,F.value*4+c]}),E.value=t,w.value=l,F.value=0}else E.value==t&&w.value==l?F.value==0?F.value=1:(F.value=0,E.value=-1,w.value=-1):(E.value>=0&&w.value>=0&&b.value[E.value][w.value][0]==3&&(Y.value.addBack([E.value,w.value,t,l,F.value]),C.emit("add queue",{data:[E.value,w.value,t,l,F.value]})),E.value=t,w.value=l,F.value=0)}document.onkeydown=function(t){var l=t||window.event||arguments.callee.caller.arguments[0];if(l&&l.keyCode==32&&(E.value=w.value=-1,show()),l&&l.keyCode==87&&E.value!=-1&&E.value>0&&de(E.value-1,w.value),l&&l.keyCode==83&&E.value!=-1&&E.value+1<H.value&&de(E.value+1,w.value),l&&l.keyCode==65&&w.value!=-1&&w.value>0&&de(E.value,w.value-1),l&&l.keyCode==68&&w.value!=-1&&w.value+1<D.value&&de(E.value,w.value+1),l&&l.keyCode==69&&Y.value.size()){var c=Y.value.popBack();E.value=c[0],w.value=c[1],C.emit("pop queue")}if(l&&l.keyCode==81&&Y.value.size()&&(Y.value.clear(),C.emit("clear queue")),l&&l.keyCode==88){for(var m=[],k=0;k<H.value;k++)for(var ee=0;ee<D.value;ee++)b.value[k][ee][0]==3&&(m[m.length]=[k,ee]);m.sort((N,x)=>b.value[x[0]][x[1]][2]-b.value[N[0]][N[1]][2]);for(var ce=E.value,_e=w.value,k=0;k<m.length;k++)E.value=m[k][0],w.value=m[k][1],de(ce,_e)}l&&l.keyCode==27&&it.alert("\u786E\u5B9A\u6295\u964D\u5417","\u6295\u964D",{confirmButtonText:"\u786E\u5B9A",callback:N=>{N=="confirm"&&C.emit("surrender")}})};function Sl(t){var l=document.getElementById("map"),c=t.clientX,m=t.clientY,k=l.offsetLeft,ee=l.offsetTop;window.onmousemove=function(ce){var _e=ce.clientX,N=ce.clientY,x=k+(_e-c),we=ee+(N-m);l.style.left=x+"px",l.style.top=we+"px"}}function Il(){window.onmousemove=null}function $l(t){t.deltaY<0?j.value=Math.min(50,j.value+3):t.deltaY>0&&(j.value=Math.max(25,j.value-3))}return document.body.onselectstart=document.body.oncontextmenu=function(){return!1},C.on("already start",t=>{v.value=!0,W.value=t.users,H.value=t.n,D.value=t.m;for(var l=0;l<H.value;l++){b.value[l]=[];for(var c=0;c<D.value;c++)b.value[l][c]=[-2]}}),C.on("count change",t=>{S.value=t.tot,U.value=t.count,Q.value=t.wcount}),C.on("init game",t=>{v.value=!0,W.value=t.users,H.value=t.n,D.value=t.m,De=!1;for(var l=0;l<H.value;l++){b.value[l]=[];for(var c=0;c<D.value;c++)b.value[l][c]=t.firstmap[l*D.value+c]=="1"?[-3]:[-2]}}),C.on("new turn",t=>{De?C.emit("get map",{full:!0}):C.emit("get map",{full:!1}),ne.value=Math.ceil(t.turn/2),te.value=t.rank}),C.on("map",t=>{if(t.full)b.value=t.map,Ue.value=t.ltx,Pe.value=t.lty,De=!1;else{b.value=Ml(b.value,t.val,t.add);for(var l=0;l<t.diff.length;l++)b.value[t.diff[l][0]][t.diff[l][1]]=t.diff[l][2];Ue.value=t.ltx,Pe.value=t.lty}Y.value.from_string(t.queue)}),C.on("end",t=>{C.disconnect(),b.value=t.lstmap,te.value=t.lstrank,re.value=!0,ie.value=t.name,xe(t.name),window.onmousemove=null}),(t,l)=>{const c=pn,m=gn,k=bn,ee=hn,ce=yn,_e=ml,N=kn,x=vl,we=tn,Ee=Cn,Rl=_n,fe=Qn,zl=Jn,Ge=wn,Fl=En;return _(),z(Se,null,[(_(),q(Ve("style"),null,{default:r(()=>[M(" body { "+L(n(a).bgimg?'background:url("'+n(a).bgimg+'");':"")+" background-size: cover; background-position: center; } ",1)]),_:1})),i(k,{modelValue:n(be),"onUpdate:modelValue":l[0]||(l[0]=o=>X(be)?be.value=o:be=o),direction:"ltr"},{title:r(()=>[dt]),default:r(()=>[i(m,{data:n(Je),stripe:"",style:{width:"100%"}},{default:r(()=>[i(c,{label:"\u6392\u540D",width:"60",align:"center"},{default:r(o=>[M(L(o.$index+1),1)]),_:1}),i(c,{label:"\u7528\u6237\u540D",align:"center"},{default:r(o=>[d("span",{innerHTML:o.row.name},null,8,ct)]),_:1}),i(c,{label:"rating",align:"center"},{default:r(o=>[d("span",{innerHTML:o.row.rating},null,8,ft)]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"]),i(k,{modelValue:n(he),"onUpdate:modelValue":l[1]||(l[1]=o=>X(he)?he.value=o:he=o),direction:"ltr"},{title:r(()=>[vt]),default:r(()=>[i(m,{data:n(Qe),stripe:"",style:{width:"100%"}},{default:r(()=>[i(c,{label:"\u6392\u540D",width:"60",align:"center"},{default:r(o=>[M(L(o.$index+1),1)]),_:1}),i(c,{label:"\u7528\u6237\u540D",align:"center"},{default:r(o=>[d("span",{innerHTML:o.row.name},null,8,mt)]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"]),i(k,{modelValue:n(ye),"onUpdate:modelValue":l[2]||(l[2]=o=>X(ye)?ye.value=o:ye=o),direction:"ltr"},{title:r(()=>[pt]),default:r(()=>[d("div",{innerHTML:n(Ze)},null,8,gt)]),_:1},8,["modelValue"]),i(k,{modelValue:n(re),"onUpdate:modelValue":l[4]||(l[4]=o=>X(re)?re.value=o:re=o),direction:"ltr"},{title:r(()=>[bt]),default:r(()=>[i(ee,{modelValue:n(ie),"onUpdate:modelValue":l[3]||(l[3]=o=>X(ie)?ie.value=o:ie=o),onChange:xe},null,8,["modelValue"]),n(ke).status=="success"?(_(),q(ce,{key:0,type:"primary",href:"replay?name="+n(ie),target:"_blank"},{default:r(()=>[ht]),_:1},8,["href"])):P("",!0),yt,kt,n(ke).status=="success"?(_(),q(m,{key:1,data:n(ke).data,stripe:"",style:{width:"100%"}},{default:r(()=>[i(c,{label:"\u6392\u540D",width:"60",align:"center"},{default:r(o=>[M(L(o.$index+1),1)]),_:1}),i(c,{label:"\u7528\u6237\u540D",align:"center"},{default:r(o=>[d("span",{innerHTML:o.row.name},null,8,Ct)]),_:1}),i(c,{label:"\u25B3",align:"center"},{default:r(o=>[d("span",{innerHTML:o.row.delta},null,8,_t)]),_:1}),i(c,{label:"\u53D8\u5316",align:"center"},{default:r(o=>[d("span",{innerHTML:o.row.change},null,8,wt)]),_:1})]),_:1},8,["data"])):(_(),z("div",Et,L(n(ke).data),1))]),_:1},8,["modelValue"]),i(k,{modelValue:n(Ce),"onUpdate:modelValue":l[16]||(l[16]=o=>X(Ce)?Ce.value=o:Ce=o),direction:"ltr"},{title:r(()=>[Vt]),default:r(()=>[Bt,i(_e,{modelValue:n(a).bgimg,"onUpdate:modelValue":l[5]||(l[5]=o=>n(a).bgimg=o),placeholder:"\u80CC\u666F\u56FE\u7247",clearable:""},null,8,["modelValue"]),Mt,i(N,{modelValue:n(a).color[0],"onUpdate:modelValue":l[6]||(l[6]=o=>n(a).color[0]=o)},null,8,["modelValue"]),i(N,{modelValue:n(a).color[1],"onUpdate:modelValue":l[7]||(l[7]=o=>n(a).color[1]=o)},null,8,["modelValue"]),i(N,{modelValue:n(a).color[2],"onUpdate:modelValue":l[8]||(l[8]=o=>n(a).color[2]=o)},null,8,["modelValue"]),i(N,{modelValue:n(a).color[3],"onUpdate:modelValue":l[9]||(l[9]=o=>n(a).color[3]=o)},null,8,["modelValue"]),i(N,{modelValue:n(a).color[4],"onUpdate:modelValue":l[10]||(l[10]=o=>n(a).color[4]=o)},null,8,["modelValue"]),i(N,{modelValue:n(a).color[5],"onUpdate:modelValue":l[11]||(l[11]=o=>n(a).color[5]=o)},null,8,["modelValue"]),i(N,{modelValue:n(a).color[6],"onUpdate:modelValue":l[12]||(l[12]=o=>n(a).color[6]=o)},null,8,["modelValue"]),i(N,{modelValue:n(a).color[7],"onUpdate:modelValue":l[13]||(l[13]=o=>n(a).color[7]=o)},null,8,["modelValue"]),Tt,i(x,{type:"success",plain:"",onClick:l[14]||(l[14]=o=>n(a).color=["#FF0000","#0000FF","#008000","#800080","#A52A2A","#FFA500","#FFC0CB","#FFFF00"])},{default:r(()=>[Lt]),_:1}),St,i(we,{style:{margin:"10px"}},{default:r(()=>[i(x,{style:{margin:"10px"},type:"info",plain:"",onClick:l[15]||(l[15]=o=>n(p)())},{default:r(()=>[n(f)?(_(),q(n(Vn),{key:0,theme:"outline",size:"24",fill:"#333"})):(_(),q(n(Bn),{key:1,theme:"outline",size:"24",fill:"#333"}))]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(v)?P("",!0):(_(),q(Rl,{key:0,class:"el-menu-vertical-demo",collapse:!0,style:{position:"fixed",right:"0",bottom:"0"}},{default:r(()=>[i(Ee,{index:"1",onClick:l[17]||(l[17]=o=>Vl())},{title:r(()=>[It]),default:r(()=>[i(n(Mn),{theme:"outline",size:"24",fill:"#333"})]),_:1}),i(Ee,{index:"2",onClick:l[18]||(l[18]=o=>El())},{title:r(()=>[$t]),default:r(()=>[i(n(Tn),{theme:"outline",size:"24",fill:"#333"})]),_:1}),i(Ee,{index:"3",onClick:l[19]||(l[19]=o=>{wl()})},{title:r(()=>[Rt]),default:r(()=>[i(n(Ln),{theme:"outline",size:"24",fill:"#333"})]),_:1}),i(Ee,{index:"4",onClick:l[20]||(l[20]=o=>{_l()})},{title:r(()=>[zt]),default:r(()=>[i(n(Sn),{theme:"outline",size:"24",fill:"#333"})]),_:1}),i(Ee,{index:"5",onClick:l[21]||(l[21]=o=>{Bl()})},{title:r(()=>[Ft]),default:r(()=>[i(n(In),{theme:"outline",size:"24",fill:"#333"})]),_:1})]),_:1})),n(v)?P("",!0):(_(),z("a",At,Ut)),n(v)?P("",!0):(_(),z("div",Pt,[d("div",Dt,[d("div",Gt,[d("span",{innerHTML:u(n(R),n(g))},null,8,Nt),d("i",{class:B("vip"+n(y))},null,2)]),d("div",null,[Ot,d("span",{innerHTML:u(n(g),n(g))},null,8,qt)]),i(we,{style:{margin:"10px"}},{default:r(()=>[i(x,{style:{margin:"10px"},type:"success",plain:"",onClick:l[22]||(l[22]=o=>{n(C).emit("startgame")})},{default:r(()=>[Kt]),_:1})]),_:1}),Xt,i(zl,{style:{margin:"10px"},modelValue:n(G),"onUpdate:modelValue":l[23]||(l[23]=o=>X(G)?G.value=o:G=o),size:"middle"},{default:r(()=>[i(fe,{label:"ffa"},{default:r(()=>[M("FFA(rated) ("+L(n(U)[0])+")",1)]),_:1}),i(fe,{label:"sb"},{default:r(()=>[M("\u4F1E\u5175\u5927\u6218 ("+L(n(U)[1])+")",1)]),_:1}),i(fe,{label:"dark"},{default:r(()=>[M("\u6D53\u96FE\u6A21\u5F0F ("+L(n(U)[2])+")",1)]),_:1}),i(fe,{label:"toxins"},{default:r(()=>[M("\u6389\u5751\u6A21\u5F0F ("+L(n(U)[3])+")",1)]),_:1}),i(fe,{label:"yinjian"},{default:r(()=>[M("\u9634\u95F4\u6A21\u5F0F ("+L(n(U)[4])+")",1)]),_:1}),i(fe,{label:"team"},{default:r(()=>[M("\u56E2\u961F\u6A21\u5F0F ("+L(n(U)[5])+")",1)]),_:1})]),_:1},8,["modelValue"]),Yt,i(Fl,{modelValue:n(J),"onUpdate:modelValue":l[24]||(l[24]=o=>X(J)?J.value=o:J=o),size:"middle",disabled:n(G)==""},{default:r(()=>[i(Ge,{label:"lightning"},{default:r(()=>[M(" \u96F7\u7535("+L(n(Q)[0])+"/"+L(n(S))+") ",1)]),_:1}),i(Ge,{label:"earthquake"},{default:r(()=>[M(" \u5730\u9707("+L(n(Q)[1])+"/"+L(n(S))+") ",1)]),_:1}),i(Ge,{label:"wind"},{default:r(()=>[M(" \u5927\u98CE("+L(n(Q)[2])+"/"+L(n(S))+") ",1)]),_:1})]),_:1},8,["modelValue","disabled"]),i(we,{style:{margin:"10px"}},{default:r(()=>[i(x,{type:"primary",class:"teamchoose",onClick:l[25]||(l[25]=o=>{X(G)?G.value="":G="",X(J)?J.value=[]:J=[]})},{default:r(()=>[Wt]),_:1})]),_:1}),Jt])])),d("div",Qt,[Zt,d("span",xt,L(n(ne)),1)]),d("div",jt,[d("table",null,[d("tbody",eo,[lo,(_(!0),z(Se,null,Oe(n(Ll),(o,$)=>(_(),z("tr",null,[d("td",{style:pe({color:"white",background:o.color,"font-weight":800})},L($+1),5),d("td",{innerHTML:o.name},null,8,no),d("td",{innerHTML:o.army},null,8,to),d("td",{innerHTML:o.land},null,8,oo)]))),256))])])]),n(v)?(_(),z("table",{key:3,cellspacing:"0",cellpadding:"0",border:"0",style:pe({"--size":n(j)+"px","font-size":Math.min(10,Math.floor((t.now+32)/7))+"px"})},[d("tbody",{class:"map",id:"map",onMousedown:Sl,onMouseup:Il,onMousewheel:$l},[(_(!0),z(Se,null,Oe(n(H),o=>(_(),z("tr",null,[(_(!0),z(Se,null,Oe(n(D),$=>(_(),z("td",{style:pe({background:Tl(o-1,$-1)}),class:B({cell:!0,nowpos:n(E)==o-1&&n(w)==$-1}),onClick:mo=>de(o-1,$-1)},[d("span",{class:B({num:!0,unknow:n(b)[o-1][$-1][0]==-3,visible:n(b)[o-1][$-1][0]!=-2&&n(b)[o-1][$-1][0]!=-3,mountain:n(b)[o-1][$-1][0]==-1,toxins:n(b)[o-1][$-1][0]==5,empty:n(b)[o-1][$-1][0]==0,town:n(b)[o-1][$-1][0]==1,crown:n(b)[o-1][$-1][0]==2,umbrella:n(b)[o-1][$-1][0]==3,water:n(b)[o-1][$-1][0]==4})},L(n(E)==o-1&&n(w)==$-1&&n(F)==1?"50%":n(b)[o-1][$-1][2]?n(b)[o-1][$-1][2]:""),3),n(Te)[o-1][$-1][0]?(_(),z("span",so)):P("",!0),n(Te)[o-1][$-1][1]?(_(),z("span",uo)):P("",!0),n(Te)[o-1][$-1][2]?(_(),z("span",ro)):P("",!0),n(Te)[o-1][$-1][3]?(_(),z("span",io)):P("",!0),n(Ue)==o-1&&n(Pe)==$-1?(_(),z("span",co)):P("",!0)],14,ao))),256))]))),256))],32)],4)):P("",!0)],64)}}},vo=sn(fo);vo.mount("#app");
